{% load base_extras %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>{% block title %}Personal Genome Project{% endblock title %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="PersonalGenomes.org">

  <link href="{{STATIC_URL}}css/bootstrap.css" rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Raleway:400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

  <!-- Styles -->
  <style type="text/css">
    /* Use Google Fonts Raleway and Open Sans*/

    /* Sticky footer styles
    -------------------------------------------------- */
    html,
      body {
      height: 100%;
      /* The html and body elements cannot have any padding or margin. */
    }

    /* Wrapper for page content to push down footer */
    #wrap {
      min-height: 100%;
      height: auto !important;
      height: 100%;
      /* Negative indent footer by it's height */
      margin: 0 auto -120px;
    }

    /* Set the fixed height of the footer here */
    #push,
    #footer {
      height: 120px;
      line-height: 22px;
    }

    #footer {
      background: linear-gradient(#EEF8E2, rgba(255,255,255,0) );
      background: -webkit-linear-gradient(#EEF8E2, rgba(255,255,255,0) );
      font-family: "Raleway";
    }
    #footer h5 {
      margin: 15px 0px 8px;
    }
    #footer hr {
      border-top: 3px solid #E9F8D5;
      border-bottom: 0px solid #ffffff;
      margin: 0px;
    }

    /* Lastly, apply responsive CSS fixes as necessary */
    @media (max-width: 767px) {
      #footer {
        margin-left: -20px;
        margin-right: -20px;
        padding-left: 20px;
        padding-right: 20px;
      }
    }

    /* Hack to allow more spacing around Font Awesome icons */
    i {
    white-space:pre;
    }

    /* Stuff for our staff pages */
    .bio h4,.bio h5,.bio p {
    margin:12px;
    }
    .bio img {
    float:right;
    margin:12px;
    }
    /* Remove top margin for correct spacing of the top and heading */
    .top-heading {
    margin-top:0px;
    }
  </style>

  <link href="{{STATIC_URL}}css/bootstrap-responsive.css" rel="stylesheet">

  {% block css-overrides %}{% endblock css-overrides %}

  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
  <link href="/static/img/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
</head>

<body>

<!-- Wrap all content other than footer here. -->
<div id="wrap">

  <!-- Navbar content -->
  {% block navbar %}
  <div class="navbar navbar-inverse navbar-fixed-top" style="margin-bottom:0px;">
    <div class="navbar-inner">
      <div class="container">
	<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
	</button>
	{% block brand %}<a class="brand" href="/">Personal Genome Project</a>{% endblock brand %}
	<div class="nav-collapse collapse">

	  <ul class="nav pull-right">

            {% comment %}
            The navbar_contents block in base.html defaults to the same menu as used by /organization (i.e. /organization does not overwrite it). That menu is defined here, rather than in a separate template, because we need to have the subsections (e.g. navbar_about) available to be swapped out by /organization templates extending this one. (This could not happen if the navbar_contents were added through an "include".)
            {% endcomment %}

            {% block navbar_contents %}

            {% block navbar_about %}
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">PersonalGenomes.org <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="{% url 'organization:mission' %}">Our mission</a></li>
                <li><a href="{% url 'organization:people' %}">People</a></li>
                <li><a href="{% url 'organization:sharing' %}">Sharing Policies</a></li>
                <li><a href="{% url 'organization:contact-us' %}">Contact Us</a></li>
                <li class="divider"></li>
                <li><a href="{% url 'organization:press' %}">Press</a></li>
                <li><a href="{% url 'organization:publications' %}">Publications</a></li>
              </ul>
            </li>
            {% endblock navbar_about %}

            {% block navbar_participate %}
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Participate <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="{% url 'organization:pgp' %}">About the PGP</a></li>
                <li><a href="{% url 'organization:why-participate' %}">Why participate</a></li>
                <li><a href="{% url 'organization:non-anonymous' %}">Non-Anonymous</a></li>
                <li><a href="{% url 'organization:risks-benefits' %}">Risks & Benefits</a></li>
                <li><a href="{% url 'organization:pgp-sign-up' %}">Sign-up</a></li>
              </ul>
            </li>
            {% endblock navbar_participate %}

            {% block navbar_globalnetwork %}
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Global Network <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="{% url 'organization:network' %}">PGP Network</a></li>
                <li><a href="{% url 'organization:join-network' %}">Starting a PGP Site</a></li>
                <li class="divider"></li>
                <li><a href="{% url 'harvard:index' %}"><i class="icon-double-angle-right">  </i>PGP Harvard</a></li>
                <li><a href="{% url 'canada:index' %}"><i class="icon-double-angle-right">  </i>PGP Canada</a></li>
                <li><a href="{% url 'uk:index' %}"><i class="icon-double-angle-right">  </i>PGP UK</a></li>
              </ul>
            </li>
            {% endblock navbar_globalnetwork %}

            <li><a href="{% url 'organization:donate' %}">Donate</a></li>
            {% endblock navbar_contents %}
	  </ul>
	</div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
  <div class="visible-desktop" style="height:41px;width:100%;"></div>
  {% endblock navbar %}

  <!-- Main page content -->
  <div class="container">
    {% if messages %}
    {% for message in messages %}
    <div class="alert{% if message.tags %}
	        {% for tag in message.tags|split_on_space %} alert-{{ tag }}{% endfor %}
	        {% endif %}">
      {% if 'htmlsafe' in message.tags %}{{ message|safe }}{% else %}{{ message }}{% endif %}
    </div>
    {% endfor %}
    {% endif %}

    <div class="row">
      <div class="span12">
        {% block navpills %}{% endblock navpills %}
      </div>
    </div>
    {% block main %}
    {% endblock main %}
    <div id="push"></div>
  </div>
</div>

<div id="footer">
  <hr />
  <div class="container">
    {% include "footer.html" %}
  </div>
</div>


<!-- JS placed at the end of the document so the pages load faster -->
<script src="//code.jquery.com/jquery-latest.js"></script>
<script src="{{STATIC_URL}}js/bootstrap.js"></script>

<!-- Set menu items to "active" if it matches our current page. -->
<script>$(function () {
    $('a[href="' + this.location.pathname + '"]').parent().addClass('active');
  });
</script>

<!-- Fix mobile device bug, see this issue and solution:
     https://github.com/twbs/bootstrap/issues/4550#issuecomment-21361314 -->
<script>
  $('.dropdown-toggle').click(function(e) {
    e.preventDefault();
    setTimeout($.proxy(function() {
      if ('ontouchstart' in document.documentElement) {
        $(this).siblings('.dropdown-backdrop').off().remove();
      }
    }, this), 0);
  });
</script>
<script>
  $('.dropdown-toggle').click(function(e) {
    e.preventDefault();
    setTimeout($.proxy(function() {
      if ('ontouchstart' in document.documentElement) {
        $(this).siblings('.dropdown-backdrop').off().remove();
      }
    }, this), 0);
  });
</script>

{% block extrajs %}
{% endblock extrajs %}

</body>
</html>
